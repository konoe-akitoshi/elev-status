<!--
  Last update: 2025-05-22 / ver.1.0 / Maintainer: A.Saeki
-->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta http-equiv="refresh" content="86400"/>
  <title>建物エレベーター モニタリング</title>
  <link rel="stylesheet" href="style.css">
  <!-- favicon設定 -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico?v=20250520">
</head>
<body>
  <div class="container">
    <h1>建物エレベーター モニタリング</h1>

    <!-- 状態カード群はSVG内の視覚表現に統合 -->

    <div class="card diagram-card">
      <h2>エレベーター図</h2>
      <div class="elevator-diagram grid-layout">
        <!-- 8行×3列グリッド -->
        <div class="shaft-winker shaft-winker-left">
          <div class="winker-dot"></div>
          <div class="winker-dot"></div>
          <div class="winker-dot"></div>
          <div class="winker-dot"></div>
          <div class="winker-dot"></div>
          <div class="winker-dot"></div>
          <div class="winker-dot"></div>
          <div class="winker-dot"></div>
        </div>
        <div class="shaft-winker shaft-winker-right">
          <div class="winker-dot"></div>
          <div class="winker-dot"></div>
          <div class="winker-dot"></div>
          <div class="winker-dot"></div>
          <div class="winker-dot"></div>
          <div class="winker-dot"></div>
          <div class="winker-dot"></div>
          <div class="winker-dot"></div>
        </div>
        <!-- 各階 -->
        <div class="floor-label" style="grid-row:1;grid-column:1;">8F</div>
        <div class="shaft-cell" style="grid-row:1;grid-column:2;"></div>
        <div class="call-lamp" data-floor="8" style="grid-row:1;grid-column:3;"></div>
        <div class="floor-label" style="grid-row:2;grid-column:1;">7F</div>
        <div class="shaft-cell" style="grid-row:2;grid-column:2;"></div>
        <div class="call-lamp" data-floor="7" style="grid-row:2;grid-column:3;"></div>
        <div class="floor-label" style="grid-row:3;grid-column:1;">6F</div>
        <div class="shaft-cell" style="grid-row:3;grid-column:2;"></div>
        <div class="call-lamp" data-floor="6" style="grid-row:3;grid-column:3;"></div>
        <div class="floor-label" style="grid-row:4;grid-column:1;">5F</div>
        <div class="shaft-cell" style="grid-row:4;grid-column:2;"></div>
        <div class="call-lamp" data-floor="5" style="grid-row:4;grid-column:3;"></div>
        <div class="floor-label" style="grid-row:5;grid-column:1;">4F</div>
        <div class="shaft-cell" style="grid-row:5;grid-column:2;"></div>
        <div class="call-lamp" data-floor="4" style="grid-row:5;grid-column:3;"></div>
        <div class="floor-label" style="grid-row:6;grid-column:1;">3F</div>
        <div class="shaft-cell" style="grid-row:6;grid-column:2;"></div>
        <div class="call-lamp" data-floor="3" style="grid-row:6;grid-column:3;"></div>
        <div class="floor-label" style="grid-row:7;grid-column:1;">2F</div>
        <div class="shaft-cell" style="grid-row:7;grid-column:2;"></div>
        <div class="call-lamp" data-floor="2" style="grid-row:7;grid-column:3;"></div>
        <div class="floor-label" style="grid-row:8;grid-column:1;">1F</div>
        <div class="shaft-cell" style="grid-row:8;grid-column:2;"></div>
        <div class="call-lamp" data-floor="1" style="grid-row:8;grid-column:3;"></div>
        <!-- カゴはシャフト全体に絶対配置 -->
        <div class="shaft-absolute">
          <div id="elevator-car" class="elevator-car">
            <div class="car-frame">
              <div id="left-door" class="door left-door">
                <span class="door-text"></span>
              </div>
              <div id="right-door" class="door right-door">
                <span class="door-text"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
<div class="direction-indicators">
          <div id="direction-up" class="direction-indicator">↑</div>
          <div id="direction-down" class="direction-indicator">↓</div>
          <div id="direction-stop" class="direction-indicator">■</div>
        </div>
    </div>

    <h2>システム情報</h2>
    <div class="info-area">
      <div class="card gpio-section">
        <div>
          <h3>READ GPIO</h3>
          <div class="gpio-grid" id="read-gpio-grid"></div>
        </div>
        <div>
          <h3>WRITE GPIO</h3>
          <div class="gpio-grid" id="write-gpio-grid"></div>
        </div>
      </div>
      <div class="card">
        <div class="mode-indicators">
          <div class="indicator">
            <div class="indicator-lamp" id="api-gw-mode-indicator"></div><span>API GW</span>
          </div>
          <div class="indicator">
            <div class="indicator-lamp" id="vip-mode-indicator"></div><span>VIP</span>
          </div>
          <div class="indicator">
            <div class="indicator-lamp" id="emergency-mode-indicator"></div><span>緊急</span>
          </div>
        </div>
        <h3 style="margin-top: var(--gap)">温度</h3>
        <div class="temperature-grid" id="temperature-grid"></div>
      </div>
    </div>

    <div class="footer">
      <div class="api-status">
        <div id="api-status-lamp"></div>
        <span id="api-status-text">API状態: 未接続</span>
      </div>
      <div id="last-updated">最終更新: –</div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
